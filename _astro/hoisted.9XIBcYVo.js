import"./BackToTop.astro_astro_type_script_index_0_lang.CTvX35yu.js";import"./hoisted.Chf1skr6.js";import{d as A}from"./hoisted.BSMSWknI.js";document.addEventListener("astro:page-load",()=>{var e=window.innerHeight,l=document.documentElement.scrollHeight;const s=document.querySelector("#content_progress");if(s instanceof HTMLProgressElement){s.max=l-e,s.value=window.scrollY;const a=()=>{const d=150+window.scrollY/(l-e)*100*.6;s.style.setProperty("--progress-color",`hsl(${d}, 100%, 50%)`)};document.addEventListener("scroll",function(){s instanceof HTMLProgressElement&&(s.max=document.documentElement.scrollHeight-window.innerHeight,s.value=window.scrollY,a())}),a()}});document.addEventListener("astro:page-load",()=>{const e=document.querySelector(".toc__content"),l=document.querySelector(".post"),s=document.querySelector(".footer");e&&l&&s&&window.addEventListener("scroll",function(){const a=l.getBoundingClientRect().bottom,c=s.getBoundingClientRect().top,d=window.innerHeight,n=e?e.offsetHeight:0;a<=d?(e.style.position="absolute",e.style.top=window.scrollY+a-n-300+"px"):c<=d?(e.style.position="absolute",e.style.top=window.scrollY+c-n-300+"px"):(e.style.position="fixed",e.style.top="500px")})});function M(e){var l=[].forEach,s=[].some,a=typeof window<"u"&&document.body,c,d=!0,n=" ";function v(r,i){var m=i.appendChild(t(r));if(r.children.length){var h=S(r.isCollapsed);r.children.forEach(function(H){v(H,h)}),m.appendChild(h)}}function f(r,i){var m=!1,h=S(m);if(i.forEach(function(H){v(H,h)}),c=r||c,c!==null)return c.firstChild&&c.removeChild(c.firstChild),i.length===0?c:c.appendChild(h)}function t(r){var i=document.createElement("li"),m=document.createElement("a");return e.listItemClass&&i.setAttribute("class",e.listItemClass),e.onClick&&(m.onclick=e.onClick),e.includeTitleTags&&m.setAttribute("title",r.textContent),e.includeHtml&&r.childNodes.length?l.call(r.childNodes,function(h){m.appendChild(h.cloneNode(!0))}):m.textContent=r.textContent,m.setAttribute("href",e.basePath+"#"+r.id),m.setAttribute("class",e.linkClass+n+"node-name--"+r.nodeName+n+e.extraLinkClasses),i.appendChild(m),i}function S(r){var i=e.orderedList?"ol":"ul",m=document.createElement(i),h=e.listClass+n+e.extraListClasses;return r&&(h=h+n+e.collapsibleClass,h=h+n+e.isCollapsedClass),m.setAttribute("class",h),m}function g(){if(e.scrollContainer&&document.querySelector(e.scrollContainer)){var r;r=document.querySelector(e.scrollContainer).scrollTop}else r=document.documentElement.scrollTop||a.scrollTop;var i=document.querySelector(e.positionFixedSelector);e.fixedSidebarOffset==="auto"&&(e.fixedSidebarOffset=c.offsetTop),r>e.fixedSidebarOffset?i.className.indexOf(e.positionFixedClass)===-1&&(i.className+=n+e.positionFixedClass):i.className=i.className.replace(n+e.positionFixedClass,"")}function u(r){var i=0;return r!==null&&(i=r.offsetTop,e.hasInnerContainers&&(i+=u(r.offsetParent))),i}function C(r,i){return r&&r.className!==i&&(r.className=i),r}function y(r){if(e.scrollContainer&&document.querySelector(e.scrollContainer)){var i;i=document.querySelector(e.scrollContainer).scrollTop}else i=document.documentElement.scrollTop||a.scrollTop;e.positionFixedSelector&&g();var m=r,h;if(d&&c!==null&&m.length>0){s.call(m,function(E,T){if(u(E)>i+e.headingsOffset+10){var D=T===0?T:T-1;return h=m[D],!0}else if(T===m.length-1)return h=m[m.length-1],!0});var H=c.querySelector("."+e.activeLinkClass),p=c.querySelector("."+e.linkClass+".node-name--"+h.nodeName+'[href="'+e.basePath+"#"+h.id.replace(/([ #;&,.+*~':"!^$[\]()=>|/\\@])/g,"\\$1")+'"]');if(H===p)return;var j=c.querySelectorAll("."+e.linkClass);l.call(j,function(E){C(E,E.className.replace(n+e.activeLinkClass,""))});var R=c.querySelectorAll("."+e.listItemClass);l.call(R,function(E){C(E,E.className.replace(n+e.activeListItemClass,""))}),p&&p.className.indexOf(e.activeLinkClass)===-1&&(p.className+=n+e.activeLinkClass);var O=p&&p.parentNode;O&&O.className.indexOf(e.activeListItemClass)===-1&&(O.className+=n+e.activeListItemClass);var B=c.querySelectorAll("."+e.listClass+"."+e.collapsibleClass);l.call(B,function(E){E.className.indexOf(e.isCollapsedClass)===-1&&(E.className+=n+e.isCollapsedClass)}),p&&p.nextSibling&&p.nextSibling.className.indexOf(e.isCollapsedClass)!==-1&&C(p.nextSibling,p.nextSibling.className.replace(n+e.isCollapsedClass,"")),w(p&&p.parentNode.parentNode)}}function w(r){return r&&r.className.indexOf(e.collapsibleClass)!==-1&&r.className.indexOf(e.isCollapsedClass)!==-1?(C(r,r.className.replace(n+e.isCollapsedClass,"")),w(r.parentNode.parentNode)):r}function k(r){var i=r.target||r.srcElement;typeof i.className!="string"||i.className.indexOf(e.linkClass)===-1||(d=!1)}function _(){d=!0}return{enableTocAnimation:_,disableTocAnimation:k,render:f,updateToc:y}}const Y={tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",ignoreSelector:".js-toc-ignore",hasInnerContainers:!1,linkClass:"toc-link",extraLinkClasses:"",activeLinkClass:"is-active-link",listClass:"toc-list",extraListClasses:"",isCollapsedClass:"is-collapsed",collapsibleClass:"is-collapsible",listItemClass:"toc-list-item",activeListItemClass:"is-active-li",collapseDepth:0,scrollSmooth:!0,scrollSmoothDuration:420,scrollSmoothOffset:0,scrollEndCallback:function(e){},headingsOffset:1,throttleTimeout:50,positionFixedSelector:null,positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto",includeHtml:!1,includeTitleTags:!1,onClick:function(e){},orderedList:!0,scrollContainer:null,skipRendering:!1,headingLabelCallback:!1,ignoreHiddenElements:!1,headingObjectCallback:null,basePath:"",disableTocScrollSync:!1,tocScrollOffset:0};function z(e){var l=[].reduce;function s(t){return t[t.length-1]}function a(t){return+t.nodeName.toUpperCase().replace("H","")}function c(t){try{return t instanceof window.HTMLElement||t instanceof window.parent.HTMLElement}catch{return t instanceof window.HTMLElement}}function d(t){if(!c(t))return t;if(e.ignoreHiddenElements&&(!t.offsetHeight||!t.offsetParent))return null;const S=t.getAttribute("data-heading-label")||(e.headingLabelCallback?String(e.headingLabelCallback(t.innerText)):(t.innerText||t.textContent).trim());var g={id:t.id,children:[],nodeName:t.nodeName,headingLevel:a(t),textContent:S};return e.includeHtml&&(g.childNodes=t.childNodes),e.headingObjectCallback?e.headingObjectCallback(g,t):g}function n(t,S){for(var g=d(t),u=g.headingLevel,C=S,y=s(C),w=y?y.headingLevel:0,k=u-w;k>0&&(y=s(C),!(y&&u===y.headingLevel));)y&&y.children!==void 0&&(C=y.children),k--;return u>=e.collapseDepth&&(g.isCollapsed=!0),C.push(g),C}function v(t,S){var g=S;e.ignoreSelector&&(g=S.split(",").map(function(C){return C.trim()+":not("+e.ignoreSelector+")"}));try{return t.querySelectorAll(g)}catch{return console.warn("Headers not found with selector: "+g),null}}function f(t){return l.call(t,function(g,u){var C=d(u);return C&&n(C,g.nest),g},{nest:[]})}return{nestHeadingsArray:f,selectHeadings:v}}function $(e){var l=e.duration,s=e.offset;if(typeof window>"u"||typeof location>"u")return;var a=location.hash?n(location.href):location.href;c();function c(){document.body.addEventListener("click",f,!1);function f(t){!d(t.target)||t.target.className.indexOf("no-smooth-scroll")>-1||t.target.href.charAt(t.target.href.length-2)==="#"&&t.target.href.charAt(t.target.href.length-1)==="!"||t.target.className.indexOf(e.linkClass)===-1||Q(t.target.hash,{duration:l,offset:s,callback:function(){v(t.target.hash)}})}}function d(f){return f.tagName.toLowerCase()==="a"&&(f.hash.length>0||f.href.charAt(f.href.length-1)==="#")&&(n(f.href)===a||n(f.href)+"#"===a)}function n(f){return f.slice(0,f.lastIndexOf("#"))}function v(f){var t=document.getElementById(f.substring(1));t&&(/^(?:a|select|input|button|textarea)$/i.test(t.tagName)||(t.tabIndex=-1),t.focus())}}function Q(e,l){var s=window.pageYOffset,a={duration:l.duration,offset:l.offset||0,callback:l.callback,easing:l.easing||g},c=document.querySelector('[id="'+decodeURI(e).split("#").join("")+'"]')||document.querySelector('[id="'+e.split("#").join("")+'"]'),d=typeof e=="string"?a.offset+(e?c&&c.getBoundingClientRect().top||0:-(document.documentElement.scrollTop||document.body.scrollTop)):e,n=typeof a.duration=="function"?a.duration(d):a.duration,v,f;requestAnimationFrame(function(u){v=u,t(u)});function t(u){f=u-v,window.scrollTo(0,a.easing(f,s,d,n)),f<n?requestAnimationFrame(t):S()}function S(){window.scrollTo(0,s+d),typeof a.callback=="function"&&a.callback()}function g(u,C,y,w){return u/=w/2,u<1?y/2*u*u+C:(u--,-y/2*(u*(u-2)-1)+C)}}const I=30;function U(e){var l=e.tocElement||document.querySelector(e.tocSelector);if(l&&l.scrollHeight>l.clientHeight){var s=l.querySelector("."+e.activeListItemClass);if(s){var a=l.scrollTop,c=a+l.clientHeight,d=s.offsetTop,n=d+s.clientHeight;d<a+e.tocScrollOffset?l.scrollTop-=a-d+e.tocScrollOffset:n>c-e.tocScrollOffset-I&&(l.scrollTop+=n-c+e.tocScrollOffset+2*I)}}}let o={},L,q,x,b,N;function W(e){o=K(Y,e||{}),o.scrollSmooth&&(o.duration=o.scrollSmoothDuration,o.offset=o.scrollSmoothOffset,$(o)),L=M(o),q=z(o),G();const l=V(o);if(l===null)return;const s=F(o);if(s===null||(x=q.selectHeadings(l,o.headingSelector),x===null))return;const c=q.nestHeadingsArray(x).nest;if(!o.skipRendering)L.render(s,c);else return this;b=P(function(n){L.updateToc(x),!o.disableTocScrollSync&&U(o);const v=n&&n.target&&n.target.scrollingElement&&n.target.scrollingElement.scrollTop===0;(n&&(n.eventPhase===0||n.currentTarget===null)||v)&&(L.updateToc(x),o.scrollEndCallback&&o.scrollEndCallback(n))},o.throttleTimeout),b(),o.scrollContainer&&document.querySelector(o.scrollContainer)?(document.querySelector(o.scrollContainer).addEventListener("scroll",b,!1),document.querySelector(o.scrollContainer).addEventListener("resize",b,!1)):(document.addEventListener("scroll",b,!1),document.addEventListener("resize",b,!1));let d=null;N=P(function(n){o.scrollSmooth&&L.disableTocAnimation(n),L.updateToc(x),d&&clearTimeout(d),d=setTimeout(function(){L.enableTocAnimation()},o.scrollSmoothDuration)},o.throttleTimeout),o.scrollContainer&&document.querySelector(o.scrollContainer)?document.querySelector(o.scrollContainer).addEventListener("click",N,!1):document.addEventListener("click",N,!1)}function G(){const e=F(o);e!==null&&(o.skipRendering||e&&(e.innerHTML=""),o.scrollContainer&&document.querySelector(o.scrollContainer)?(document.querySelector(o.scrollContainer).removeEventListener("scroll",b,!1),document.querySelector(o.scrollContainer).removeEventListener("resize",b,!1),L&&document.querySelector(o.scrollContainer).removeEventListener("click",N,!1)):(document.removeEventListener("scroll",b,!1),document.removeEventListener("resize",b,!1),L&&document.removeEventListener("click",N,!1)))}const J=Object.prototype.hasOwnProperty;function K(){const e={};for(let l=0;l<arguments.length;l++){const s=arguments[l];for(const a in s)J.call(s,a)&&(e[a]=s[a])}return e}function P(e,l,s){l||(l=250);let a,c;return function(){const d=this,n=+new Date,v=arguments;a&&n<a+l?(clearTimeout(c),c=setTimeout(function(){a=n,e.apply(d,v)},l)):(a=n,e.apply(d,v))}}function V(e){try{return e.contentElement||document.querySelector(e.contentSelector)}catch{return console.warn("Contents element not found: "+e.contentSelector),null}}function F(e){try{return e.tocElement||document.querySelector(e.tocSelector)}catch{return console.warn("TOC element not found: "+e.tocSelector),null}}document.addEventListener("astro:page-load",()=>{W({tocSelector:".toc__content",contentSelector:".post",headingSelector:"h2, h3"})});document.addEventListener("astro:page-load",()=>{const e=document.getElementsByClassName("qrshow"),l=document.getElementById("alipay"),s=document.getElementById("wechatpay");e.length>0&&(l&&A.alipayQRCode&&(l.addEventListener("mouseenter",()=>{e[0].style.display="block"}),l.addEventListener("mouseleave",()=>{e[0].style.display="none"})),s&&A.wechatQRCode&&(s.addEventListener("mouseenter",()=>{e[1].style.display="block"}),s.addEventListener("mouseleave",()=>{e[1].style.display="none"})))});
